class BaseSlider{static breakpointMobile=580;constructor(e=".swiper",i={[BaseSlider.breakpointMobile]:{},default:{}}){this.swiperSelector=e,this.options=i}makeSlider(){return new Swiper(this.swiperSelector,{slidesPerView:1,spaceBetween:20,linesCount:2,multiLine:!1,navigation:{nextEl:".base-slider__next",prevEl:".base-slider__prev"},...this.options.default,breakpoints:{[BaseSlider.breakpointMobile]:{slidesPerView:2,...this.options[BaseSlider.breakpointMobile]}}})}}
window.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".footer-collapse").forEach(e=>{e.querySelector(".footer-collapse__toggle--mobile").addEventListener("click",()=>{e.classList.toggle("footer-collapse--expanded")})})});
class MainSlider{swiper=null;delay=5e3;isHovered=!1;timerProgress=0;fps=30;timer=0;interval=null;perimeter=62.831853072;progressItems=[];wrapperDotItems=[];dotItems=[];circleItems=[];sliderProgressScroller=null;constructor(e=".swiper",s=[],t=!1){this.swiperSelector=e,this.sliderImages=s,this.compact=t}get getCurrentIndexSlider(){return this.swiper.realIndex??0}get countSlides(){return this.sliderImages.length}get timePerTick(){return 1e3/this.fps}getExtraElements(){this.progressItems=document.querySelectorAll(".main-slider-progress__item"),this.wrapperDotItems=document.querySelectorAll(".main-slider__dot"),this.dotItems=document.querySelectorAll(".main-slider-dot"),this.circleItems=document.querySelectorAll(".main-slider-dot svg circle:last-of-type"),this.sliderProgressScroller=document.querySelector(".main-slider-progress__scroller-inner")}makeSlider(){this.displayImages(),this.swiper=new Swiper(this.swiperSelector,{slidesPerView:1,direction:"vertical",height:this.compact?455:511,loop:!0,navigation:{nextEl:".main-slider__arrow-next",prevEl:".main-slider__arrow-prev"},on:{slideChangeTransitionEnd:()=>this.changeSlideTransitionEnd()},breakpoints:{580:{height:this.compact?482:964},992:{height:this.compact?318:635}}}),this.getExtraElements(),this.hangEvents(),this.startTimer()}hangEvents(){var e=document.querySelector(".main-slider");e.addEventListener("mouseenter",()=>{this.isHovered=!0,this.stopTimer()}),e.addEventListener("mouseleave",()=>{this.isHovered=!1,this.startTimer()}),this.progressItems.forEach((e,s)=>{e.addEventListener("click",()=>this.swiper.slideTo(s+1))}),this.wrapperDotItems.forEach((e,s)=>{e.addEventListener("click",()=>this.swiper.slideTo(s+1))})}displayImages(){var e=document.querySelectorAll(".main-slider .swiper-slide");992<window.innerWidth?e.forEach((e,s)=>e.style.backgroundImage=`url(${this.sliderImages[s].IMAGE})`):e.forEach((e,s)=>e.style.backgroundImage=`url(${this.sliderImages[s].IMAGE_MOBILE})`)}startTimer(){this.interval||(this.interval=setInterval(()=>this.tick(),1e3/this.fps))}stopTimer(){clearInterval(this.interval),this.interval=null}clearTimer(){this.timer=0}changeSlideTransitionEnd(){setTimeout(()=>{this.handleActiveClasses(),this.handleProgressScrollerPosition(),this.stopTimer(),this.clearTimer(),this.isHovered||this.startTimer()})}handleActiveClasses(){const t=this.getCurrentIndexSlider;this.progressItems.forEach((e,s)=>{s===t?e.classList.add("main-slider-progress__item--active"):e.classList.remove("main-slider-progress__item--active")}),this.dotItems.forEach((e,s)=>{s===t?e.classList.add("main-slider-dot_active"):e.classList.remove("main-slider-dot_active")})}handleProgressScrollerPosition(){var e,s,t;this.sliderProgressScroller&&(e=this.getCurrentIndexSlider,s=this.countSlides,this.sliderProgressScroller.style.left=(t=100/s)*e+"%",this.sliderProgressScroller.style.right=t*(s-e-1)+"%")}tick(){this.timer=this.timer+this.timePerTick,this.timerProgress=this.timer/this.delay,this.fillProgress(),this.timer>=this.delay&&(this.stopTimer(),this.clearTimer(),this.swiper.slideNext(300))}fillProgress(){var e;this.circleItems.length&&(e=this.getCurrentIndexSlider,this.circleItems[e].setAttribute("stroke-dasharray",this.perimeter*this.timerProgress+" "+(this.perimeter-this.perimeter*this.timerProgress)))}}